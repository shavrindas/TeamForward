import sqlite3
from PIL import Image
import io

# 데이터베이스 연결
conn = sqlite3.connect('example.db')
cursor = conn.cursor()

# 이미지 파일을 50x50 픽셀로 리사이즈하고 BLOB로 변환
def resize_and_convert_to_blob(image_path):
    with Image.open(image_path) as img:
        img = img.resize((50, 50))
        img_byte_arr = io.BytesIO()
        img.save(img_byte_arr, format='PNG')
        img_byte_arr = img_byte_arr.getvalue()
    return img_byte_arr

# 예제 이미지 경로
image_path = 'path_to_your_image.jpg'
image_blob = resize_and_convert_to_blob(image_path)

# 데이터베이스에 이미지 삽입
user_id = 1  # 예제 사용자 ID
upload_date = '2024-06-03 10:00:00'
cursor.execute("INSERT INTO user_picture (user_id, picture, upload_date) VALUES (?, ?, ?)",
               (user_id, image_blob, upload_date))

conn.commit()
conn.close()
